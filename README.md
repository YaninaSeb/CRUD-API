# CRUD-API

## Инструкция по установке, запуску
1. git clone https://github.com/YaninaSeb/CRUD-API.git
2. git checkout develop
3. npm install
4. npm run start:dev or npm run start:prod

## Инструкция по использованию

  - **GET** `api/users`
    - request: `http://localhost:5000/api/users`
    - response: `status code 200, all users records`  
      
    При корректном запросе выводится массив объектов, содержащий всех пользователей.  
    Если запрос указан не верно (например, `api/users/`), выводится сообщение о том, что такой запрос некорректен. 
    Для удобства проверки, изначально массив с пользователями содержит записи.  
    
  - **GET** `api/users/${userId}`  
    - request: `http://localhost:5000/api/users/6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b`
    - response: `status code 200,`    
    `{ "id": "6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b", "username": "Alina", "age": 8, "hobbies": [] }`  

    При корректном запросе отображается пользователь с соответствующим id.   
    Сперва проверяется валидность id (с помощью uuid), затем наличие пользователя с таким id. 
    В двух случаях (невалиден, не найден) выводится соответствующее сообщение для пользователя.  
    Если запрос указан не верно (например, `api/users/${userId}/`), выводится сообщение о том, что такой запрос некорректен.  
  
  - **POST** `api/users`  
    - request: `http://localhost:5000/api/users`  
    - request body: `{ "username": "Egor", "age": 14, "hobbies": [ "running" ] }`  
    - response: `status code 201,`    
    `{ "id": "6ec0bd7f-11c0-43da-975e-2a8ad9ebae4b", "username": "Egor", "age": 4, "hobbies": ["running"] }`  
    
    При корректном запросе отображается новый пользователь.  
    При создании пользователя сперва проверяется наличие всех обязательных полей, затем наличие лишних полей. После осуществляется проверка типов полей, а также является ли тело запроса объектом. При невыполнении какого-либо из условий, выводится сообщение с соответствующим текстом.   
    В случае, когда имеется какая-либо иная ошибка (например, отсутствие запятой в синтаксисе, пустое значение ключа и т.п.) выводится сообщение о неккоректности тела запроса.   
    Если запрос указан не верно (например, `api/users/`), выводится сообщение о том, что такой запрос некорректен.   
  
  - **PUT** `api/users/{userId}`  
    - request: `http://localhost:5000/api/users/6ec0bd7f-11c0-43da-975e-2a8ad9ebae4b`  
    - request body: `{ "username": "Egor", "age": 14, "hobbies": ["running", "music"] }`  
    - response: `status code 200,`    
    `{ "id": "6ec0bd7f-11c0-43da-975e-2a8ad9ebae4b", "username": "Egor", "age": 14, "hobbies": ["running", "music"] }`  
    
    !!!Этот запрос предполагает наличие в теле запроса всех обязательных полей (какие-то данные могуть быть новыми, какие-то старыми).  
    При корректном запросе отображается пользователь с обновленными полями.  
    При создании пользователя сперва проверяется наличие всех обязательных полей, затем наличие лишних полей. После осуществляется проверка типов полей, а также является ли тело запроса объектом. При невыполнении какого-либо из условий, выводится сообщение с соответствующим текстом.  
    В случае, когда имеется какая-либо иная ошибка (например, отсутствие запятой в синтаксисе, пустое значение ключа и т.п.) выводится сообщение о неккоректности тела запроса.  
    Если запрос указан не верно (например, `api/users/{userId}/`), выводится сообщение о том, что такой запрос некорректен.  
    
  
  - **DELETE** `api/users/${userId}`  
    - request: `http://localhost:5000/api/users/6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b`
    - response: `status code 204`
        
    При корректном запросе пользователь с соответствующим id удаляется.  
    Тело ответа будет пустым, статус ответа 204.  
    Сперва проверяется валидность id (с помощью uuid), затем наличие пользователя с таким id. В двух случаях (невалиден, не найден) выводится соответствующее сообщение для пользователя.  
    Если запрос указан не верно (например, `api/users/${userId}/`), выводится сообщение  о том, что такой запрос некорректен.

   - `status code 500`
     При возникновении ошибки на стороне сервера, возникающие при обработке запроса, выводится соответсвующее сообщение
